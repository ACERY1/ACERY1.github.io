<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
            Docker学习 Chapter-1  初学踩坑 | 
        
        ACERY
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
        <link rel="dns-prefetch" href="https://changyan.sohu.com"/>
    
    
    
    
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="ACERY">
    <meta name="description" itemprop="description" content="虚拟化实现硬件与操作系统的解耦,完成了操作系统到硬件的多对多映射，使得硬件与操作系统都具有可替换性">
    <meta name="keywords" content="kepp it super simple,虚拟化">

    <!-- Site Verification -->
    
    

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/icon.jpg">
    <link rel="icon" sizes="192x192" href="/img/icon.jpg">
    <link rel="apple-touch-icon" href="/img/icon.jpg">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="ACERY">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://www.helloyzy.cn">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Docker学习 Chapter-1  初学踩坑 | ACERY">
    <meta property="og:image" content="/img/icon.jpg" />
    <meta property="og:description" content="虚拟化实现硬件与操作系统的解耦,完成了操作系统到硬件的多对多映射，使得硬件与操作系统都具有可替换性">
    <meta property="og:article:tag" content="虚拟化"> 

    
        <meta property="article:published_time" content="10月 20, 2017" />
        <meta property="article:modified_time" content="10月 23, 2017" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="Docker学习 Chapter-1  初学踩坑 | ACERY">
    <meta name="twitter:description" content="虚拟化实现硬件与操作系统的解耦,完成了操作系统到硬件的多对多映射，使得硬件与操作系统都具有可替换性">
    <meta name="twitter:image" content="/img/icon.jpg">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="http://www.helloyzy.cn" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://www.helloyzy.cn/2017/10/20/docker学习cap1/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "ACERY",
        "logo": "/img/icon.jpg"
    },
    "author": {
        "@type": "Person",
        "name": "ACERY",
        "image": {
            "@type": "ImageObject",
            "url": "/img/icon.jpg"
        },
        "description": "kepp it super simple"
    },
    "headline": "Docker学习 Chapter-1  初学踩坑",
    "url": "http://www.helloyzy.cn/2017/10/20/docker学习cap1/index.html",
    "datePublished": "10月 20, 2017",
    "dateModified": "10月 23, 2017",
    "description": "虚拟化实现硬件与操作系统的解耦,完成了操作系统到硬件的多对多映射，使得硬件与操作系统都具有可替换性",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://www.helloyzy.cn"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?fJTiM/K1J3dWIruo3pxtAw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?oCSEO3ST+aEypEwttTDI9g==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
            <style id="/css/fontawesome.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("/css/fontawesome.min.css","/css/fontawesome.min.css?JpVQUwzBJ7aqWjWSWn3mzg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Isolation" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                
                    <!-- Isolation Header -->
                    <header class="header">
    <div class="header-wrapper">
        <!-- Header Copyright -->
        <div class="header-copyright">
            <div class="header-site">
                ©&nbsp;
                <script type="text/javascript">
                    var fd = new Date();
                    document.write(fd.getFullYear());
                </script>
                &nbsp;ACERY
            </div>
            <!--
            I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright.
            It will not impact the appearance and can give developers a lot of support :)

            很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
            它不会影响美观并可以给开发者很大的支持。 :)
            -->
            <div>
                Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a>
                <br>
                Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a>
            </div>
        </div>

        <!-- Header Title -->
        <span class="header-title header-item">
            <a href="/" title="ACERY">
                ACERY
            </a>
        </span>

        <p class="header-slogan header-item">
        
            
                kepp it super simple
            
        
        </p>

        <!-- Header Nav -->
        <nav class="header-nav header-item">
            <span class="header-nav-item">
                <a href="/" title="Home">
                    <span>主页</span>
                </a>
            </span>

            <!-- Pages  -->
            
                <span class="header-nav-item">
                    <a href="/gallery" title="相册">
                        <span>相册</span>
                    </a>
                </span>
            
                <span class="header-nav-item">
                    <a href="/timeline" title="时光">
                        <span>时光</span>
                    </a>
                </span>
            
                <span class="header-nav-item">
                    <a href="/tags" title="标签">
                        <span>标签</span>
                    </a>
                </span>
            
                <span class="header-nav-item">
                    <a href="/links" title="友情链接">
                        <span>友情链接</span>
                    </a>
                </span>
            
            
        </nav>

        <!-- Header SNS -->
        <div class="header-item header-sns_list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/ACERY1" target="_blank">
            <i class="fa fa-github fa-lg" aria-hidden="true"></i>
        </a>
    

    <!-- LinkedIn -->
    

    <!-- Telegram -->
    
</div>

    </div>
</header>

                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    

                    <!-- Post TOC -->

    



<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                


    <!-- Isolation Post Header -->
    <!-- Post thumbnail -->
    
        <!-- Post Header Info -->
        <div class="post-header_info without-thumbnail">
            <!-- Author Avatar & Name -->
            <img src="/img/avatar.png" class="avatar-img" width="44px" height="44px" alt="ACERY's avatar">
            <span class="name-span">ACERY</span>
        </div>

        <!-- Null Thumbnail -->
        <div class="post_thumbnail-null">
    
        </div>



                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    

    
        <div class="post-content_wrapper">
            <p class="post-title">
                Docker学习 Chapter-1  初学踩坑
            </p>
            <p>最近在学习大数据的时候，在配置环境上一直做着重复的工作，感觉十分不爽，故寻求更好的解决方案，docker便进入视线。</p>
<p>#Docker 初学踩坑</p>
<p><img src="http://cdn.zsite.com/data/slides/d/docker/7_14.png" alt=""></p>
<p>笔记简介：<br>-</p>
<p>该系列笔记属于从零开始的初学者笔记，不属于技术分享笔记，后面的笔记将会一步一步地对docker的学习进行记录并总结一些踩坑经验，因为是初学，笔记中出现的疏漏之处，望读者指出。</p>
<h2 id="从问题谈起："><a href="#从问题谈起：" class="headerlink" title="从问题谈起："></a>从问题谈起：</h2><p>这学期开了一门云计算与大数据的课程，课程的要求是自组一个8人的队伍，通过规定的技术，对<code>50w</code>个格式一定的<code>JSON</code>数据进行处理，分析，并最终在前端呈现出一些分析结果。采用的技术如下：</p>
<ul>
<li>接受数据：Kafka</li>
<li>缓存存储：Redis</li>
<li>集群：Hadoop+zookeeper+hbase</li>
<li>数据分析：Spark</li>
<li>前后端：JS</li>
<li>关系型数据库：Mysql</li>
</ul>
<p><strong>目前遇到的最大的难题</strong></p>
<p>目前并没有开始编程，大部分的时间都花在了配置服务器(虚拟机)环境上，因为集群的存在，所以可能安装一个<code>hadoop</code>的步骤需要在3~4台机器上重复进行操作，这期间出了不少配置上的问题，因为大家的服务器环境很难调配到完全一致，所以可能出现同样的配置<strong>在一台机器上运行，在另一台机器上无法运行</strong>。</p>
<p><strong><code>要是能一次配置成功之后将配置以及环境依赖封装起来供多人使用就好了</code></strong></p>
<blockquote>
<p>Ok,that is <strong>Docker.</strong></p>
</blockquote>
<p><img src="https://gitee.com/vueman/md_pic/raw/master/docker/屏幕快照%202017-10-20%20下午2.25.47.png" alt=""></p>
<p>正如官网所介绍的，<code>docker</code>可以打包，发布，运行任何应用。所以，我想通过<code>docker</code>来打包一个<code>Hadoop+hbase+zookeeper</code>的容器，然后将容器分发给其他开发者，他们开箱就可以使用而不用重复进行我构建环境的繁琐步骤。</p>
<p><a href="https://hub.docker.com" target="_blank" rel="external"></a></p>
<p><a href="http://www.docker.org.cn/index.html" target="_blank" rel="external"></a></p>
<p><a href="https://www.docker.com" target="_blank" rel="external"></a></p>
<p>What is Docker?<br>-</p>
<blockquote>
<p>Docker is the company driving the container movement and the only container platform provider to address every application across the hybrid cloud. Today’s businesses are under pressure to digitally transform but are constrained by existing applications and infrastructure while rationalizing and increasingly diverse portfolio of clouds, datacenters and application architectures. <strong>Docker enables true independence between applications and infrastructure and developers and IT ops to unlock their potential and creates a model for better collaboration and innovation.</strong><br>(Docker在应用程序、基础设施和开发人员之间实现了真正的独立性，并为开发人员提供了一种更好的协作和创新的模式。)</p>
</blockquote>
<p>目前我的理解是，<code>docker</code>可以理解为一个多样化的虚拟机(事实上和虚拟机的实现方式不同)，它不止可以虚拟操作系统，还能虚拟各种开发环境和软件，而这些和服务器上的其他环境是完全隔离的(<strong>不用配置若干环境变量</strong>等)。</p>
<h2 id="从零开始学习Docker"><a href="#从零开始学习Docker" class="headerlink" title="从零开始学习Docker"></a>从零开始学习Docker</h2><blockquote>
<p>目前主要是实践为主，不会大量涉及到原理,性能分析上的解释，具体的原理浅析会在后续的章节慢慢给出。</p>
</blockquote>
<h3 id="安装Docker客户端"><a href="#安装Docker客户端" class="headerlink" title="安装Docker客户端"></a>安装Docker客户端</h3><p>从<a href="https://www.docker.com" target="_blank" rel="external">官网</a>下载适合自己操作系统的客户端：</p>
<p><img src="https://gitee.com/vueman/md_pic/raw/master/docker/屏幕快照%202017-10-20%20下午10.38.31.png" alt=""></p>
<p><strong>如果服务器是<code>centos</code>，可以直接<code>yum install docker</code></strong></p>
<h3 id="启动docker服务-后面均是以centos做讲解"><a href="#启动docker服务-后面均是以centos做讲解" class="headerlink" title="启动docker服务(后面均是以centos做讲解)"></a>启动docker服务(后面均是以centos做讲解)</h3><p>命令 ：<code>service docker start</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@<span class="built_in">test</span> node]<span class="comment"># service docker start</span></div><div class="line">Redirecting to /bin/systemctl start  docker.service</div></pre></td></tr></table></figure>
<p>在某些方面上，docker类似于git，如下图：</p>
<p><img src="https://gitee.com/vueman/md_pic/raw/master/docker/屏幕快照%202017-10-20%20下午10.43.59.png" alt=""></p>
<p>本地(服务器上)安装的只是一个客户端，如果要让<code>docker</code>运行其他内容，则需要将<code>Image</code>pull到本地，这个步骤有点类似于<code>git clone</code>，而<code>docker</code>中的镜像(images）对应git就是<code>github</code>上的仓库，<code>github</code>对应到<code>docker</code>上是<a href="https://hub.docker.com" target="_blank" rel="external">https://hub.docker.com</a></p>
<h3 id="从”dockerhub”下载应用镜像"><a href="#从”dockerhub”下载应用镜像" class="headerlink" title="从”dockerhub”下载应用镜像"></a>从”dockerhub”下载应用镜像</h3><p>打开上面提到的网站：</p>
<p><img src="https://gitee.com/vueman/md_pic/raw/master/docker/offcie.png" alt=""></p>
<p><strong>这些是官方提供的镜像，作为示例，我们选择其中的<code>Ubuntu</code>镜像：</strong></p>
<p><img src="https://gitee.com/vueman/md_pic/raw/master/docker/cmd.png" alt=""></p>
<p>右上方提供的是<code>pull command</code> -&gt; <code>docker pull ubuntu</code></p>
<p>对于镜像，分为两种</p>
<ul>
<li>官方镜像，直接<code>docker pull +镜像名</code> 比如 <code>docker pull node</code></li>
<li>用户镜像，需要<code>docker pull +用户名/镜像名</code> 比如 <code>docker pull Smith/Hadoop</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[root@<span class="built_in">test</span> ~]<span class="comment"># docker pull ubuntu</span></div><div class="line">Using default tag: latest</div><div class="line">Trying to pull repository docker.io/library/ubuntu ...</div><div class="line">latest: Pulling from docker.io/library/ubuntu</div><div class="line">ae79f2514705: Pull complete</div><div class="line">5ad56d5fc149: Pull complete</div><div class="line">170e558760e8: Pull complete</div><div class="line">395460e233f5: Pull complete</div><div class="line">6f01dc62e444: Pull complete</div><div class="line">Digest: sha256:506e2d5852de1d7c90d538c5332bd3cc33b9cbd26f6ca653875899c505c82687</div></pre></td></tr></table></figure>
<h3 id="打开镜像"><a href="#打开镜像" class="headerlink" title="打开镜像"></a>打开镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@<span class="built_in">test</span> ~]<span class="comment"># ls</span></div><div class="line">anaconda-ks.cfg  n  n.pub</div><div class="line">[root@<span class="built_in">test</span> ~]<span class="comment"># docker run -it ubuntu</span></div><div class="line">root@6d3c84d4df8f:/<span class="comment"># ls</span></div><div class="line">bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</div></pre></td></tr></table></figure>
<p><code>root@6d3c84d4df8f</code>则是打开的<code>docker</code>容器内部的<code>shell</code>而非服务器的shell</p>
<p>参数解释：</p>
<ul>
<li><code>-i</code> 让容器的标准输入保持打开,上面则是进入了<code>ubuntu</code>的交互界面(shell)</li>
<li><code>-t</code> 让docker分配一个伪终端并绑定到容器的标准输入上</li>
</ul>
<blockquote>
<p>按照上面的步骤，我们成功打开了一个Ubuntu 的 images，并可以在上面进行后续操作。</p>
</blockquote>
<h3 id="一些常用操作"><a href="#一些常用操作" class="headerlink" title="一些常用操作"></a>一些常用操作</h3><ul>
<li>从远程<code>PULL</code>docker：<code>docker pull ****</code></li>
<li>运行docker： <code>docker run +参数 +镜像名</code></li>
<li>查看系统正在运行的docker：<code>docker ps</code> </li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@yzy_tencent ~]<span class="comment"># docker ps</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div class="line">a33416102a21        ubuntu              <span class="string">"/bin/bash"</span>         9 seconds ago       Up 6 seconds                            condescending_ramanujan</div></pre></td></tr></table></figure>
<ul>
<li>查看本地的镜像：<code>docker images</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@yzy_tencent ~]<span class="comment"># docker images</span></div><div class="line">REPOSITORY              TAG                 IMAGE ID            CREATED             SIZE</div><div class="line">docker.io/node          latest              badd967af535        9 days ago          671.6 MB</div><div class="line">docker.io/ubuntu        latest              747cb2d60bbe        10 days ago         122 MB</div><div class="line">docker.io/hello-world   latest              05a3bd381fc2        5 weeks ago         1.84 kB</div></pre></td></tr></table></figure>
<ul>
<li>关闭所有的docker：<code>docker stop $(docker ps -a -q)</code></li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">[root@yzy_tencent ~]<span class="comment"># docker ps</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div class="line">a33416102a21        ubuntu              <span class="string">"/bin/bash"</span>         9 seconds ago       Up 6 seconds                            condescending_ramanujan</div><div class="line">[root@yzy_tencent ~]<span class="comment"># docker stop $(docker ps -a -q)</span></div><div class="line">a33416102a21</div><div class="line">6d3c84d4df8f</div><div class="line">9c45b6f93475</div><div class="line">dbcd16977b68</div><div class="line">7d6013cc988a</div><div class="line">f061e4a8e049</div><div class="line">[root@yzy_tencent ~]<span class="comment"># docker ps</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div></pre></td></tr></table></figure>
<ul>
<li><p>删除所有的docker: <code>docker rm $(docker ps -a -q)</code></p>
</li>
<li><p>删除镜像: <code>docker rmi &lt;image id&gt;</code></p>
</li>
<li><p>搜索可用的docker：<code>docker search +dockerName</code></p>
</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@yzy_tencent ~]<span class="comment"># docker search hadoop</span></div><div class="line">INDEX       NAME                                       DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED</div><div class="line">docker.io   docker.io/sequenceiq/hadoop-docker         An easy way to try Hadoop                       486                  [OK]</div><div class="line">docker.io   docker.io/sequenceiq/hadoop-ubuntu         An easy way to try Hadoop on Ubuntu             42                   [OK]</div><div class="line">docker.io   docker.io/uhopper/hadoop                   Base Hadoop image with dynamic configurati...   39                   [OK]</div></pre></td></tr></table></figure>
<p>###CAP1 Summary</p>
<p>个人感觉docker在一定程度上很类似于gitrepo的思想，最初的docker是基础的(可以是空),大家共同修改同一<code>docker</code>，并保存快照<code>images</code>,上传到<code>&quot;dockerhub&quot;</code>上，大家都能看到并能<code>pull</code>。目前<code>docker</code>，<code>images</code>，<code>container</code>这几个概念没有进行区分，下一章主要内容是<code>用docker搭建node.js</code>和<code>简单理解docker容器与镜像</code></p>

        </div>
    
</div>


                
                    <!-- Paradox Post Info -->
                    
                

                <!-- Post Comments -->
                
                    
    <!-- 使用 changyan -->
<div id="changyan-comment">
    <!--PC和WAP自适应版-->
<div id="SOHUCS" sid="2017/10/20/docker学习cap1/"  ></div>
<script type="text/javascript">
(function(){
var appid = 'cytdDcOFu';
var conf = 'rod_4340c79313c9a68e632c8b91a0fd1e0f';
var width = window.innerWidth || document.documentElement.clientWidth;
if (width < 960) {
window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>

</div>
<style>
    #changyan-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/10/22/docker学习cap3/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/10/16/vim插件安装配置/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 畅言公共 js 代码 start -->
<script id="cy_cmt_num" src="https://changyan.sohu.com/upload/plugins/plugins.list.count.js?clientId=cytdDcOFu">
</script>
<!-- 畅言公共 js 代码 end -->





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.4.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
